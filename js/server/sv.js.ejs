define('server/sv', ['system/sys', 'common/com', 'common/cm', 'client/cl', 'game/gm', 'common/Q3Bsp', 'common/LoopbackSocket'], function (sys, com, cm, cl, gm, Q3Bsp, LoopbackSocket) {
	<%- include ../common/com-defines.js %>
	<%- include sv-defines.js %>
	<%- include sv-main.js %>
	<%- include sv-client.js %>
	<%- include sv-cmd.js %>
	<%- include sv-game.js %>
	<%- include sv-net.js %>
	<%- include sv-snapshot.js %>
	<%- include sv-world.js %>

	var gameExports = {
		GetEntityDefs: cm.EntityDefs,
		LocateGameData: LocateGameData,
		SetBrushModel: SetBrushModel,
		LinkEntity: LinkEntity,
		UnlinkEntity: UnlinkEntity,
		FindEntitiesInBox: FindEntitiesInBox,
		Trace: cm.Trace
	};

	var publicExports = {
		Init: Init,
		Frame: Frame
	};

	return publicExports;
});