define('server/sv',
['underscore', 'ByteBuffer', 'game/gm', 'client/cl', 'clipmap/cm', 'shared/Q3Bsp'],
function (_, ByteBuffer, gm, cl, cm, Q3Bsp) {
	<%- include ../shared/shared.js %>
	<%- include ../common/com-defines.js %>
	<%- include sv-defines.js %>
	<%- include sv-main.js %>
	<%- include sv-client.js %>
	<%- include sv-cmd.js %>
	<%- include sv-game.js %>
	<%- include sv-snapshot.js %>
	<%- include sv-world.js %>

	var gameExports = {
		AddCmd:            function () { return com.AddCmd.apply(this, arguments); },
		AddCvar:           function () { return com.AddCvar.apply(this, arguments); },
		GetEntityDefs:     cm.EntityDefs,
		LocateGameData:    LocateGameData,
		SetBrushModel:     SetBrushModel,
		LinkEntity:        LinkEntity,
		UnlinkEntity:      UnlinkEntity,
		FindEntitiesInBox: FindEntitiesInBox,
		Trace:             cm.Trace
	};

	var publicExports = {
		Init:             Init,
		Frame:            Frame,
		PacketEvent:      PacketEvent,
		ClientConnect:    ClientConnect,
		ClientDisconnect: ClientDisconnect,
	};

	return publicExports;
});