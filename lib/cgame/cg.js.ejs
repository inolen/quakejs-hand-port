/*global vec3: true, mat4: true */

define('cgame/cg',
['underscore', 'glmatrix', 'game/bg'],
function (_, glmatrix, bg) {
	<%- include ../shared/shared.js %>
	<%- include ../game/bg-defines.js %>

	function CGame(sys, com, cl, cm, re, ui) {
		<%- include cg-defines.js %>
		<%- include cg-main.js %>
		<%- include cg-cmds.js %>
		<%- include cg-draw.js %>
		<%- include cg-ents.js %>
		<%- include cg-players.js %>
		<%- include cg-playerstate.js %>
		<%- include cg-predict.js %>
		<%- include cg-servercmds.js %>
		<%- include cg-snapshot.js %>
		<%- include cg-view.js %>

		return {
			Init: Init,
			Shutdown: Shutdown,
			Frame: Frame
		};
	}

	return {
		CreateInstance: function (sys, com, cl, cm, re, ui) {
			return new CGame(sys, com, cl, cm, re, ui);
		}
	};
});