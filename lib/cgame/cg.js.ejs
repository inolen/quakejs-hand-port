/*global vec3: true, mat4: true */

define('cgame/cg',
['underscore', 'glmatrix', 'game/bg'],
function (_, glmatrix, bg) {
	<%- include ../shared/shared.js %>
	<%- include ../game/bg-defines.js %>

	//sys, com, cl, cm, re, snd, ui
	
	function CGame(exp) {
		<%- include cg-defines.js %>
		<%- include cg-main.js %>
		<%- include cg-cmds.js %>
		<%- include cg-draw.js %>
		<%- include cg-effects.js %>
		<%- include cg-ents.js %>
		<%- include cg-event.js %>
		<%- include cg-localents.js %>
		<%- include cg-players.js %>
		<%- include cg-playerstate.js %>
		<%- include cg-predict.js %>
		<%- include cg-servercmds.js %>
		<%- include cg-snapshot.js %>
		<%- include cg-view.js %>
		<%- include cg-weapons.js %>

		return {
			Init: Init,
			Shutdown: Shutdown,
			Frame: Frame
		};
	}

	return {
		CreateInstance: function (exp) {
			return new CGame(exp);
		}
	};
});
